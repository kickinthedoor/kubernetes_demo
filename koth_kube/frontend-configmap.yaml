apiVersion: v1
kind: ConfigMap
metadata:
  name: frontend-html
data:
  index.html: |
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8" />
      <title>FastAPI on Kubernetes</title>
    </head>
    <body>
      <h1>FastAPI on Kubernetes</h1>
      <p>Very working frontend.</p>
      <button onclick="loadMessage()">Load message from backend</button>
      <pre id="output"></pre>

      <script>
        async function loadMessage() {
          try {
            const response = await fetch('/api');
            const data = await response.json();
            document.getElementById('output').textContent = JSON.stringify(data, null, 2);
          } catch (e) {
            document.getElementById('output').textContent = 'Error: ' + e;
          }
        }
      </script>
    </body>
    </html>
